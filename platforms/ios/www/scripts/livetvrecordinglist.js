(function($,document){var query={UserId:Dashboard.getCurrentUserId(),StartIndex:0};function reloadItems(page){Dashboard.showLoadingMsg();ApiClient.getLiveTvRecordings(query).done(function(result){$(document).scrollTop(0);var html='';$('.listTopPaging',page).html(LibraryBrowser.getQueryPagingHtml({startIndex:query.StartIndex,limit:query.Limit,totalRecordCount:result.TotalRecordCount,showLimit:false,updatePageSizeSetting:false}));updateFilterControls();var screenWidth=$(window).width();html+=LibraryBrowser.getPosterViewHtml({items:result.Items,shape:"auto",showTitle:true,showParentTitle:true,overlayText:screenWidth>=600,coverImage:true});html+=LibraryBrowser.getQueryPagingHtml({startIndex:query.StartIndex,limit:query.Limit,totalRecordCount:result.TotalRecordCount,showLimit:false,updatePageSizeSetting:false});$('#items',page).html(html).lazyChildren();$('.btnNextPage',page).on('click',function(){query.StartIndex+=query.Limit;reloadItems(page);});$('.btnPreviousPage',page).on('click',function(){query.StartIndex-=query.Limit;reloadItems(page);});$('.selectPageSize',page).on('change',function(){query.Limit=parseInt(this.value);query.StartIndex=0;reloadItems(page);});if(getParameterByName('savequery')!='false'){LibraryBrowser.saveQueryValues('episodes',query);}
Dashboard.hideLoadingMsg();});}
function updateFilterControls(page){}
$(document).on('pageinitdepends',"#liveTvRecordingListPage",function(){var page=this;}).on('pagebeforeshowready',"#liveTvRecordingListPage",function(){var page=this;var limit=LibraryBrowser.getDefaultPageSize();if(limit!=query.Limit){query.Limit=limit;query.StartIndex=0;}
LibraryBrowser.loadSavedQueryValues('episodes',query);var groupId=getParameterByName('groupid');query.GroupId=groupId;reloadItems(page);if(query.GroupId){ApiClient.getLiveTvRecordingGroup(query.GroupId).done(function(group){$('.listName',page).html(group.Name);});}else{$('.listName',page).html(Globalize.translate('HeaderAllRecordings'));}
updateFilterControls(this);});})(jQuery,document);